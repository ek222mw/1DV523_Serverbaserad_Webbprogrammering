#Installation instructions for setting up production environment
##Step 1 - Create ssh login
Set up ssh for login for droplet and git shell pushes. Follow this guide to config it right [link](https://www.digitalocean.com/community/tutorials/how-to-use-ssh-keys-with-digitalocean-droplets).
When i did set up this ssh i used git shell command prompt. Download a desktop version for your operating system at github [link](https://www.github.com) to get git shell command prompt.
##Step 2 - Setting up Server(droplet)
Create a account on Digital Ocean [link](https://www.digitalocean.com) and create a droplet and config with same settings as in this video [link](https://www.youtube.com/watch?v=OcP1vCh5tRk).
When creating droplet add ssh key, which you created in step 1.
##Step 3 - Git push to Server(droplet)
Create a github account and follow this guide [link](https://guides.github.com/activities/hello-world/) to set up a repository. Then set up git push remotes at your repository as in this guide
[link](https://www.youtube.com/watch?v=O0Q55iztjq4). First thing is to create folder(mkdir var) when logged into the droplet(Not mentioned in the video but quite obvious), all commands for linux command prompt can followed at this [link](http://www.computerworld.com/article/2598082/linux/linux-linux-command-line-cheat-sheet.html). In the git remote guide when adding remote, his remote was ssh://root@yourdropletIP/var/repo/site.git, in my case the remote was with root after ip as follow ssh://root@yourdropletIP/root/var/repo/site.git. Maybe it works without root on your droplet git remote address or else you know the problem, use linux command pwd in git shell to check your path when logged in to the repository folder on the droplet. It's easier to see if the root word has to be included in git remote address then.
##Step 4 - Set up personal token and configure webhooks on github.com
Go to github.com in browser login and go to settings and press "personal access tokens" under Developer Settings tab. Then press create token, enter a name and select following scopes: repo(all), admin:org(all), admin:repo_hook(all) and admin:org_hook. After save token string into a local textfile on your computer(can't be accessed anymore, not even on github). Now on go to your repository on github and press settings and then webhooks, press create webhook and enter your payload like this https://yourdropletIP:3000/githubwebhook. Under Secret enter the token saved in the textfile earlier, content type must be application/json. If you are going to use a self-certificate ssl protocol then you must press "disable SSL verification", if using real ssl protocol don't care about this step. Press "Let me select individual events" and select "Issues","Issue comment" and select active on delivers and save webhook. When the code is pushed to droplet then login and locate to your repopath and write nano .env then you see that token TOKEN= is empty. Copy token from local textfile and paste it after Token= and press Ctrl+X and Y and Enter. Now the Personal Access Token and webhook are configured to work in production.  
##Step 5 - Install pm2
To make the droplet run all the time we need to install pm2. When logged into the droplet through ssh, then use [this](https://www.youtube.com/watch?v=lHDv7j2b0Oc) guide to install it correctly. Do not forget to stop it(pm2 stop "servername") before you push new code into your repository, or else it can be port conflicts in node.js.
##Step 6 - Install and configure nginx
Follow [this](https://www.youtube.com/watch?v=OuRhaSQljsc) to install and configure nginx, in the guide he paste and replace [this](https://gist.github.com/thajo/d5db8e679c1237dfdb76) config code into nginx config file default. Use Ctrl+K repeatly to erase the first code in default file and then paste the config code. If you are going to run https change row proxy_pass http://localhost:3000 to proxy_pass https://localhost:3000 in default file. Now start server(pm2 start "servername") and open a browser and enter droplet ip and hit enter, now should the application show upp. If you get a 403 error in browser console on css file. Then you need to set permissions on droplet server by typing chmod 755 on every path to the style folder starting in my case with chmod 755 /root/var/www/wsApp/public/stylesheets and do so backwards until you hit chmod 755 /, like this chmod 755 etc. /root/var/www/wsApp/public then chmod 755 /root/var/www/wsApp. If you get a "Error 403, Token Error" visiting the droplet ip in browser then you probably have forgotten to enter token in .env or entered wrong token.
